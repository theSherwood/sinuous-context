import{api as t}from"sinuous";const n=(t,n)=>(...r)=>n(...t(...r));let r={};function c(t,n,...c){if("function"!=typeof n)return[t,n,...c];function o(...t){const c=r;r=o._tracking;const u=n(...t);return r=c,u}return o._tracking={...r},[t,o,...c]}function o(t,...n){function c(){const t=r._ctx;r._ctx=c._ctx;const o=function(t){return t.map(t=>{for(;"function"==typeof t;)t=t();return t})}(n);return r._ctx=t,o}return c._ctx=t,c}function u(t){return 0===arguments.length?r&&r._ctx:r&&r._ctx&&r._ctx[t]}!function(t){t.insert=n(c,t.insert),t.property=n(c,t.property)}(t);export{o as Context,o as context,u as getContext};